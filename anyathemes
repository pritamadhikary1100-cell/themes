-- ==================== THEME EDITOR MODULE ====================
-- Loaded from GitHub: Custom theme creation and management system
-- Requirements: WindUI, global variables from main script
-- ==============================================================

local Module = {}

-- T·∫Øt to√†n b·ªô log console trong module n√†y
local warn = function(...) end

-- ‚úÖ L·∫•y c√°c bi·∫øn c·∫ßn thi·∫øt t·ª´ file ch√≠nh
local WindUI = _G.WindUI
local Window = _G.Window
local c = _G.PlayerLocal
local e = _G.HttpService
local ConfigSystem = _G.ConfigSystem

-- ==================== THEME EDITOR GLOBALS ====================
local ThemeEditor = {
    -- Theme m·∫∑c ƒë·ªãnh
    CurrentTheme = {
        Name = "Theme T√πy Ch·ªânh",
        Accent = Color3.fromHex("#18181b"),
        Background = Color3.fromHex("#101010"),
        BackgroundTransparency = 0,
        Outline = Color3.fromHex("#FFFFFF"),
        Text = Color3.fromHex("#FFFFFF"),
        Placeholder = Color3.fromHex("#7a7a7a"),
        Button = Color3.fromHex("#52525b"),
        Icon = Color3.fromHex("#a1a1aa"),
        Hover = Color3.fromHex("#FFFFFF"),
        WindowBackground = Color3.fromHex("#101010"),
        WindowShadow = Color3.fromHex("#000000"),
        DialogBackground = Color3.fromHex("#101010"),
        DialogBackgroundTransparency = 0,
        DialogTitle = Color3.fromHex("#FFFFFF"),
        DialogContent = Color3.fromHex("#FFFFFF"),
        DialogIcon = Color3.fromHex("#a1a1aa"),
        WindowTopbarButtonIcon = Color3.fromHex("#a1a1aa"),
        WindowTopbarTitle = Color3.fromHex("#FFFFFF"),
        WindowTopbarAuthor = Color3.fromHex("#FFFFFF"),
        WindowTopbarIcon = Color3.fromHex("#FFFFFF"),
        TabBackground = Color3.fromHex("#FFFFFF"),
        TabTitle = Color3.fromHex("#FFFFFF"),
        TabIcon = Color3.fromHex("#a1a1aa"),
        ElementBackground = Color3.fromHex("#FFFFFF"),
        ElementTitle = Color3.fromHex("#FFFFFF"),
        ElementDesc = Color3.fromHex("#FFFFFF"),
        ElementIcon = Color3.fromHex("#a1a1aa"),
        PopupBackground = Color3.fromHex("#101010"),
        PopupBackgroundTransparency = 0,
        PopupTitle = Color3.fromHex("#FFFFFF"),
        PopupContent = Color3.fromHex("#FFFFFF"),
        PopupIcon = Color3.fromHex("#a1a1aa")
    },
    -- L∆∞u references ƒë·∫øn colorpickers ƒë·ªÉ update sau
    ColorpickerRefs = {},
    -- Config file
    ConfigFile = "AnyaHub_ThemeConfig_" .. c.Name .. ".txt"
}

-- ==================== UTILITY FUNCTIONS ====================
local function libNoti(msg, duration)
    WindUI:Notify({
        Title = "Theme Editor",
        Content = msg,
        Duration = duration or 5
    })
end

-- ==================== THEME FUNCTIONS ====================
-- H√†m l∆∞u theme v√†o file
function ThemeEditor:SaveTheme()
    if not writefile then return false end
    
    local success = pcall(function()
        local themeData = e:JSONEncode(self.CurrentTheme)
        writefile(self.ConfigFile, themeData)
    end)
    
    if success then
        libNoti("‚úÖ Theme ƒë√£ ƒë∆∞·ª£c l∆∞u!", 3)
    else
        libNoti("‚ùå Kh√¥ng th·ªÉ l∆∞u theme!", 3)
    end
    
    return success
end

-- H√†m load theme t·ª´ file
function ThemeEditor:LoadTheme()
    if not (isfile and readfile and isfile(self.ConfigFile)) then
        return false
    end
    
    local success = pcall(function()
        local themeData = readfile(self.ConfigFile)
        local loadedTheme = e:JSONDecode(themeData)
        
        if loadedTheme then
            self.CurrentTheme = loadedTheme
            self:ApplyTheme()
            self:UpdateColorpickerUI()
        end
    end)
    
    if success then
        libNoti("‚úÖ Theme ƒë√£ ƒë∆∞·ª£c t·∫£i!", 3)
    else
        libNoti("‚ùå Kh√¥ng th·ªÉ t·∫£i theme!", 3)
    end
    
    return success
end

-- H√†m √°p d·ª•ng theme hi·ªán t·∫°i
function ThemeEditor:ApplyTheme()
    local success = pcall(function()
        WindUI:AddTheme(self.CurrentTheme)
        WindUI:SetTheme(self.CurrentTheme.Name)
    end)
    
    return success
end

-- H√†m reset v·ªÅ theme m·∫∑c ƒë·ªãnh
function ThemeEditor:ResetToDefault()
    self.CurrentTheme = {
        Name = "Theme T√πy Ch·ªânh",
        Accent = Color3.fromHex("#18181b"),
        Background = Color3.fromHex("#101010"),
        BackgroundTransparency = 0,
        Outline = Color3.fromHex("#FFFFFF"),
        Text = Color3.fromHex("#FFFFFF"),
        Placeholder = Color3.fromHex("#7a7a7a"),
        Button = Color3.fromHex("#52525b"),
        Icon = Color3.fromHex("#a1a1aa"),
        Hover = Color3.fromHex("#FFFFFF"),
        WindowBackground = Color3.fromHex("#101010"),
        WindowShadow = Color3.fromHex("#000000"),
        DialogBackground = Color3.fromHex("#101010"),
        DialogBackgroundTransparency = 0,
        DialogTitle = Color3.fromHex("#FFFFFF"),
        DialogContent = Color3.fromHex("#FFFFFF"),
        DialogIcon = Color3.fromHex("#a1a1aa"),
        WindowTopbarButtonIcon = Color3.fromHex("#a1a1aa"),
        WindowTopbarTitle = Color3.fromHex("#FFFFFF"),
        WindowTopbarAuthor = Color3.fromHex("#FFFFFF"),
        WindowTopbarIcon = Color3.fromHex("#FFFFFF"),
        TabBackground = Color3.fromHex("#FFFFFF"),
        TabTitle = Color3.fromHex("#FFFFFF"),
        TabIcon = Color3.fromHex("#a1a1aa"),
        ElementBackground = Color3.fromHex("#FFFFFF"),
        ElementTitle = Color3.fromHex("#FFFFFF"),
        ElementDesc = Color3.fromHex("#FFFFFF"),
        ElementIcon = Color3.fromHex("#a1a1aa"),
        PopupBackground = Color3.fromHex("#101010"),
        PopupBackgroundTransparency = 0,
        PopupTitle = Color3.fromHex("#FFFFFF"),
        PopupContent = Color3.fromHex("#FFFFFF"),
        PopupIcon = Color3.fromHex("#a1a1aa")
    }
    
    self:ApplyTheme()
    self:UpdateColorpickerUI()
    libNoti("‚úÖ ƒê√£ reset v·ªÅ theme m·∫∑c ƒë·ªãnh!", 3)
end

-- H√†m c·∫≠p nh·∫≠t UI colorpicker sau khi load
function ThemeEditor:UpdateColorpickerUI()
    for key, colorpicker in pairs(self.ColorpickerRefs) do
        if colorpicker and colorpicker.SetValue then
            pcall(function()
                colorpicker:SetValue(self.CurrentTheme[key])
            end)
        end
    end
end

-- ==================== UI CREATION ====================
local function createThemeEditorTab()
    local ThemeTab = Window:Tab({
        Title = "Theme Editor",
        Icon = "palette",
        Locked = false
    })
    
    ThemeTab:Section({ Title = "üé® Theme Editor" })
    
    ThemeTab:Paragraph({
        Title = "‚ÑπÔ∏è H∆∞·ªõng D·∫´n",
        Description = "‚Ä¢ Ch·ªânh m√†u s·∫Øc cho t·ª´ng th√†nh ph·∫ßn\n‚Ä¢ √Åp d·ª•ng ƒë·ªÉ xem tr∆∞·ªõc\n‚Ä¢ L∆∞u theme ƒë·ªÉ d√πng l·∫°i sau\n‚Ä¢ Load ƒë·ªÉ t·∫£i theme ƒë√£ l∆∞u"
    })
    
    ThemeTab:Divider({ Text = "M√†u S·∫Øc Ch√≠nh" })
    
    -- Colorpicker cho Background
    local bgColorpicker = ThemeTab:Colorpicker({
        Title = "M√†u N·ªÅn (Background)",
        Description = "M√†u n·ªÅn ch√≠nh c·ªßa UI",
        Color = ThemeEditor.CurrentTheme.Background,
        Callback = function(color)
            ThemeEditor.CurrentTheme.Background = color
            ThemeEditor.CurrentTheme.WindowBackground = color
            ThemeEditor.CurrentTheme.DialogBackground = color
            ThemeEditor.CurrentTheme.PopupBackground = color
        end
    })
    ThemeEditor.ColorpickerRefs.Background = bgColorpicker
    
    -- Colorpicker cho Accent
    local accentColorpicker = ThemeTab:Colorpicker({
        Title = "M√†u Nh·∫•n (Accent)",
        Description = "M√†u nh·∫•n m·∫°nh cho c√°c ph·∫ßn t·ª≠",
        Color = ThemeEditor.CurrentTheme.Accent,
        Callback = function(color)
            ThemeEditor.CurrentTheme.Accent = color
        end
    })
    ThemeEditor.ColorpickerRefs.Accent = accentColorpicker
    
    -- Colorpicker cho Text
    local textColorpicker = ThemeTab:Colorpicker({
        Title = "M√†u Ch·ªØ (Text)",
        Description = "M√†u ch·ªØ ch√≠nh",
        Color = ThemeEditor.CurrentTheme.Text,
        Callback = function(color)
            ThemeEditor.CurrentTheme.Text = color
            ThemeEditor.CurrentTheme.WindowTopbarTitle = color
            ThemeEditor.CurrentTheme.WindowTopbarAuthor = color
            ThemeEditor.CurrentTheme.WindowTopbarIcon = color
            ThemeEditor.CurrentTheme.TabTitle = color
            ThemeEditor.CurrentTheme.TabBackground = color
            ThemeEditor.CurrentTheme.ElementTitle = color
            ThemeEditor.CurrentTheme.ElementDesc = color
            ThemeEditor.CurrentTheme.ElementBackground = color
            ThemeEditor.CurrentTheme.DialogTitle = color
            ThemeEditor.CurrentTheme.DialogContent = color
            ThemeEditor.CurrentTheme.PopupTitle = color
            ThemeEditor.CurrentTheme.PopupContent = color
        end
    })
    ThemeEditor.ColorpickerRefs.Text = textColorpicker
    
    -- Colorpicker cho Outline
    local outlineColorpicker = ThemeTab:Colorpicker({
        Title = "M√†u Vi·ªÅn (Outline)",
        Description = "M√†u vi·ªÅn c·ªßa c√°c ph·∫ßn t·ª≠",
        Color = ThemeEditor.CurrentTheme.Outline,
        Callback = function(color)
            ThemeEditor.CurrentTheme.Outline = color
        end
    })
    ThemeEditor.ColorpickerRefs.Outline = outlineColorpicker
    
    ThemeTab:Divider({ Text = "M√†u S·∫Øc Ph·ª•" })
    
    -- Colorpicker cho Button
    local buttonColorpicker = ThemeTab:Colorpicker({
        Title = "M√†u N√∫t (Button)",
        Description = "M√†u n·ªÅn c·ªßa c√°c n√∫t b·∫•m",
        Color = ThemeEditor.CurrentTheme.Button,
        Callback = function(color)
            ThemeEditor.CurrentTheme.Button = color
        end
    })
    ThemeEditor.ColorpickerRefs.Button = buttonColorpicker
    
    -- Colorpicker cho Icon
    local iconColorpicker = ThemeTab:Colorpicker({
        Title = "M√†u Icon",
        Description = "M√†u c·ªßa c√°c bi·ªÉu t∆∞·ª£ng",
        Color = ThemeEditor.CurrentTheme.Icon,
        Callback = function(color)
            ThemeEditor.CurrentTheme.Icon = color
            ThemeEditor.CurrentTheme.TabIcon = color
            ThemeEditor.CurrentTheme.ElementIcon = color
            ThemeEditor.CurrentTheme.WindowTopbarButtonIcon = color
            ThemeEditor.CurrentTheme.DialogIcon = color
            ThemeEditor.CurrentTheme.PopupIcon = color
        end
    })
    ThemeEditor.ColorpickerRefs.Icon = iconColorpicker
    
    -- Colorpicker cho Placeholder
    local placeholderColorpicker = ThemeTab:Colorpicker({
        Title = "M√†u Placeholder",
        Description = "M√†u ch·ªØ m·ªù trong √¥ nh·∫≠p li·ªáu",
        Color = ThemeEditor.CurrentTheme.Placeholder,
        Callback = function(color)
            ThemeEditor.CurrentTheme.Placeholder = color
        end
    })
    ThemeEditor.ColorpickerRefs.Placeholder = placeholderColorpicker
    
    -- Colorpicker cho Hover
    local hoverColorpicker = ThemeTab:Colorpicker({
        Title = "M√†u Hover",
        Description = "M√†u khi di chu·ªôt qua",
        Color = ThemeEditor.CurrentTheme.Hover,
        Callback = function(color)
            ThemeEditor.CurrentTheme.Hover = color
        end
    })
    ThemeEditor.ColorpickerRefs.Hover = hoverColorpicker
    
    -- Colorpicker cho Window Shadow
    local shadowColorpicker = ThemeTab:Colorpicker({
        Title = "M√†u B√≥ng ƒê·ªï (Shadow)",
        Description = "M√†u b√≥ng ƒë·ªï c·ªßa c·ª≠a s·ªï",
        Color = ThemeEditor.CurrentTheme.WindowShadow,
        Callback = function(color)
            ThemeEditor.CurrentTheme.WindowShadow = color
        end
    })
    ThemeEditor.ColorpickerRefs.WindowShadow = shadowColorpicker
    
    ThemeTab:Divider({ Text = "ƒê·ªô Trong Su·ªët" })
    
    -- Slider cho Background Transparency
    ThemeTab:Slider({
        Title = "ƒê·ªô Trong Su·ªët N·ªÅn",
        Description = "ƒêi·ªÅu ch·ªânh ƒë·ªô trong su·ªët c·ªßa n·ªÅn",
        Step = 0.01,
        Value = {
            Min = 0,
            Max = 1,
            Default = ThemeEditor.CurrentTheme.BackgroundTransparency
        },
        Callback = function(value)
            ThemeEditor.CurrentTheme.BackgroundTransparency = value
            ThemeEditor.CurrentTheme.DialogBackgroundTransparency = value
            ThemeEditor.CurrentTheme.PopupBackgroundTransparency = value
        end
    })
    
    ThemeTab:Divider({ Text = "ƒêi·ªÅu Khi·ªÉn" })
    
    -- Button √Åp D·ª•ng
    ThemeTab:Button({
        Title = "‚ú® √Åp D·ª•ng Theme",
        Description = "√Åp d·ª•ng theme hi·ªán t·∫°i",
        Callback = function()
            if ThemeEditor:ApplyTheme() then
                libNoti("‚úÖ Theme ƒë√£ ƒë∆∞·ª£c √°p d·ª•ng!", 2)
            else
                libNoti("‚ùå Kh√¥ng th·ªÉ √°p d·ª•ng theme!", 3)
            end
        end
    })
    
    -- Button L∆∞u
    ThemeTab:Button({
        Title = "üíæ L∆∞u Theme",
        Description = "L∆∞u theme hi·ªán t·∫°i v√†o file",
        Callback = function()
            ThemeEditor:SaveTheme()
        end
    })
    
    -- Button Load
    ThemeTab:Button({
        Title = "üìÇ T·∫£i Theme ƒê√£ L∆∞u",
        Description = "T·∫£i theme t·ª´ file ƒë√£ l∆∞u",
        Callback = function()
            if ThemeEditor:LoadTheme() then
                libNoti("‚úÖ Y√™u c·∫ßu kh·ªüi ƒë·ªông l·∫°i script ƒë·ªÉ √°p d·ª•ng ƒë·∫ßy ƒë·ªß!", 5)
            end
        end
    })
    
    -- Button Reset
    ThemeTab:Button({
        Title = "üîÑ Reset V·ªÅ M·∫∑c ƒê·ªãnh",
        Description = "ƒê·∫∑t l·∫°i theme v·ªÅ m·∫∑c ƒë·ªãnh",
        Callback = function()
            ThemeEditor:ResetToDefault()
        end
    })
    
    ThemeTab:Divider({ Text = "Preset Themes" })
    
    ThemeTab:Paragraph({
        Title = "üì¶ Theme C√≥ S·∫µn",
        Description = "Ch·ªçn m·ªôt trong c√°c theme c√≥ s·∫µn b√™n d∆∞·ªõi"
    })
    
    -- Preset: Dark Mode
    ThemeTab:Button({
        Title = "üåô Dark Mode",
        Description = "Theme t·ªëi c·ªï ƒëi·ªÉn",
        Callback = function()
            ThemeEditor.CurrentTheme = {
                Name = "Dark Mode",
                Accent = Color3.fromHex("#3b82f6"),
                Background = Color3.fromHex("#0f0f0f"),
                BackgroundTransparency = 0,
                Outline = Color3.fromHex("#404040"),
                Text = Color3.fromHex("#ffffff"),
                Placeholder = Color3.fromHex("#6b6b6b"),
                Button = Color3.fromHex("#1e1e1e"),
                Icon = Color3.fromHex("#9ca3af"),
                Hover = Color3.fromHex("#60a5fa"),
                WindowBackground = Color3.fromHex("#0f0f0f"),
                WindowShadow = Color3.fromHex("#000000"),
                DialogBackground = Color3.fromHex("#0f0f0f"),
                DialogBackgroundTransparency = 0,
                DialogTitle = Color3.fromHex("#ffffff"),
                DialogContent = Color3.fromHex("#ffffff"),
                DialogIcon = Color3.fromHex("#9ca3af"),
                WindowTopbarButtonIcon = Color3.fromHex("#9ca3af"),
                WindowTopbarTitle = Color3.fromHex("#ffffff"),
                WindowTopbarAuthor = Color3.fromHex("#ffffff"),
                WindowTopbarIcon = Color3.fromHex("#ffffff"),
                TabBackground = Color3.fromHex("#ffffff"),
                TabTitle = Color3.fromHex("#ffffff"),
                TabIcon = Color3.fromHex("#9ca3af"),
                ElementBackground = Color3.fromHex("#ffffff"),
                ElementTitle = Color3.fromHex("#ffffff"),
                ElementDesc = Color3.fromHex("#ffffff"),
                ElementIcon = Color3.fromHex("#9ca3af"),
                PopupBackground = Color3.fromHex("#0f0f0f"),
                PopupBackgroundTransparency = 0,
                PopupTitle = Color3.fromHex("#ffffff"),
                PopupContent = Color3.fromHex("#ffffff"),
                PopupIcon = Color3.fromHex("#9ca3af")
            }
            ThemeEditor:ApplyTheme()
            ThemeEditor:UpdateColorpickerUI()
            libNoti("‚úÖ ƒê√£ √°p d·ª•ng Dark Mode!", 2)
        end
    })
    
    -- Preset: Light Mode
    ThemeTab:Button({
        Title = "‚òÄÔ∏è Light Mode",
        Description = "Theme s√°ng d·ªÖ nh√¨n",
        Callback = function()
            ThemeEditor.CurrentTheme = {
                Name = "Light Mode",
                Accent = Color3.fromHex("#2563eb"),
                Background = Color3.fromHex("#f8f9fa"),
                BackgroundTransparency = 0,
                Outline = Color3.fromHex("#dee2e6"),
                Text = Color3.fromHex("#212529"),
                Placeholder = Color3.fromHex("#868e96"),
                Button = Color3.fromHex("#e9ecef"),
                Icon = Color3.fromHex("#495057"),
                Hover = Color3.fromHex("#3b82f6"),
                WindowBackground = Color3.fromHex("#f8f9fa"),
                WindowShadow = Color3.fromHex("#adb5bd"),
                DialogBackground = Color3.fromHex("#f8f9fa"),
                DialogBackgroundTransparency = 0,
                DialogTitle = Color3.fromHex("#212529"),
                DialogContent = Color3.fromHex("#212529"),
                DialogIcon = Color3.fromHex("#495057"),
                WindowTopbarButtonIcon = Color3.fromHex("#495057"),
                WindowTopbarTitle = Color3.fromHex("#212529"),
                WindowTopbarAuthor = Color3.fromHex("#212529"),
                WindowTopbarIcon = Color3.fromHex("#212529"),
                TabBackground = Color3.fromHex("#212529"),
                TabTitle = Color3.fromHex("#212529"),
                TabIcon = Color3.fromHex("#495057"),
                ElementBackground = Color3.fromHex("#212529"),
                ElementTitle = Color3.fromHex("#212529"),
                ElementDesc = Color3.fromHex("#212529"),
                ElementIcon = Color3.fromHex("#495057"),
                PopupBackground = Color3.fromHex("#f8f9fa"),
                PopupBackgroundTransparency = 0,
                PopupTitle = Color3.fromHex("#212529"),
                PopupContent = Color3.fromHex("#212529"),
                PopupIcon = Color3.fromHex("#495057")
            }
            ThemeEditor:ApplyTheme()
            ThemeEditor:UpdateColorpickerUI()
            libNoti("‚úÖ ƒê√£ √°p d·ª•ng Light Mode!", 2)
        end
    })
    
    -- Preset: Cyberpunk
    ThemeTab:Button({
        Title = "üåÜ Cyberpunk",
        Description = "Theme neon s√°ng r·ª±c",
        Callback = function()
            ThemeEditor.CurrentTheme = {
                Name = "Cyberpunk",
                Accent = Color3.fromHex("#ff00ff"),
                Background = Color3.fromHex("#0a0a0f"),
                BackgroundTransparency = 0,
                Outline = Color3.fromHex("#00ffff"),
                Text = Color3.fromHex("#00ffff"),
                Placeholder = Color3.fromHex("#6b21a8"),
                Button = Color3.fromHex("#1e1b4b"),
                Icon = Color3.fromHex("#ff00ff"),
                Hover = Color3.fromHex("#ffff00"),
                WindowBackground = Color3.fromHex("#0a0a0f"),
                WindowShadow = Color3.fromHex("#ff00ff"),
                DialogBackground = Color3.fromHex("#0a0a0f"),
                DialogBackgroundTransparency = 0,
                DialogTitle = Color3.fromHex("#00ffff"),
                DialogContent = Color3.fromHex("#00ffff"),
                DialogIcon = Color3.fromHex("#ff00ff"),
                WindowTopbarButtonIcon = Color3.fromHex("#ff00ff"),
                WindowTopbarTitle = Color3.fromHex("#00ffff"),
                WindowTopbarAuthor = Color3.fromHex("#00ffff"),
                WindowTopbarIcon = Color3.fromHex("#00ffff"),
                TabBackground = Color3.fromHex("#00ffff"),
                TabTitle = Color3.fromHex("#00ffff"),
                TabIcon = Color3.fromHex("#ff00ff"),
                ElementBackground = Color3.fromHex("#00ffff"),
                ElementTitle = Color3.fromHex("#00ffff"),
                ElementDesc = Color3.fromHex("#00ffff"),
                ElementIcon = Color3.fromHex("#ff00ff"),
                PopupBackground = Color3.fromHex("#0a0a0f"),
                PopupBackgroundTransparency = 0,
                PopupTitle = Color3.fromHex("#00ffff"),
                PopupContent = Color3.fromHex("#00ffff"),
                PopupIcon = Color3.fromHex("#ff00ff")
            }
            ThemeEditor:ApplyTheme()
            ThemeEditor:UpdateColorpickerUI()
            libNoti("‚úÖ ƒê√£ √°p d·ª•ng Cyberpunk!", 2)
        end
    })
    
    -- Preset: Forest
    ThemeTab:Button({
        Title = "üå≤ Forest",
        Description = "Theme xanh l√° thi√™n nhi√™n",
        Callback = function()
            ThemeEditor.CurrentTheme = {
                Name = "Forest",
                Accent = Color3.fromHex("#10b981"),
                Background = Color3.fromHex("#1a2e1a"),
                BackgroundTransparency = 0,
                Outline = Color3.fromHex("#34d399"),
                Text = Color3.fromHex("#d1fae5"),
                Placeholder = Color3.fromHex("#6ee7b7"),
                Button = Color3.fromHex("#064e3b"),
                Icon = Color3.fromHex("#34d399"),
                Hover = Color3.fromHex("#6ee7b7"),
                WindowBackground = Color3.fromHex("#1a2e1a"),
                WindowShadow = Color3.fromHex("#052e16"),
                DialogBackground = Color3.fromHex("#1a2e1a"),
                DialogBackgroundTransparency = 0,
                DialogTitle = Color3.fromHex("#d1fae5"),
                DialogContent = Color3.fromHex("#d1fae5"),
                DialogIcon = Color3.fromHex("#34d399"),
                WindowTopbarButtonIcon = Color3.fromHex("#34d399"),
                WindowTopbarTitle = Color3.fromHex("#d1fae5"),
                WindowTopbarAuthor = Color3.fromHex("#d1fae5"),
                WindowTopbarIcon = Color3.fromHex("#d1fae5"),
                TabBackground = Color3.fromHex("#d1fae5"),
                TabTitle = Color3.fromHex("#d1fae5"),
                TabIcon = Color3.fromHex("#34d399"),
                ElementBackground = Color3.fromHex("#d1fae5"),
                ElementTitle = Color3.fromHex("#d1fae5"),
                ElementDesc = Color3.fromHex("#d1fae5"),
                ElementIcon = Color3.fromHex("#34d399"),
                PopupBackground = Color3.fromHex("#1a2e1a"),
                PopupBackgroundTransparency = 0,
                PopupTitle = Color3.fromHex("#d1fae5"),
                PopupContent = Color3.fromHex("#d1fae5"),
                PopupIcon = Color3.fromHex("#34d399")
            }
            ThemeEditor:ApplyTheme()
            ThemeEditor:UpdateColorpickerUI()
            libNoti("‚úÖ ƒê√£ √°p d·ª•ng Forest!", 2)
        end
    })
    
    -- Preset: Ocean
    ThemeTab:Button({
        Title = "üåä Ocean",
        Description = "Theme xanh d∆∞∆°ng ƒë·∫°i d∆∞∆°ng",
        Callback = function()
            ThemeEditor.CurrentTheme = {
                Name = "Ocean",
                Accent = Color3.fromHex("#0ea5e9"),
                Background = Color3.fromHex("#0c4a6e"),
                BackgroundTransparency = 0,
                Outline = Color3.fromHex("#38bdf8"),
                Text = Color3.fromHex("#e0f2fe"),
                Placeholder = Color3.fromHex("#7dd3fc"),
                Button = Color3.fromHex("#075985"),
                Icon = Color3.fromHex("#38bdf8"),
                Hover = Color3.fromHex("#7dd3fc"),
                WindowBackground = Color3.fromHex("#0c4a6e"),
                WindowShadow = Color3.fromHex("#082f49"),
                DialogBackground = Color3.fromHex("#0c4a6e"),
                DialogBackgroundTransparency = 0,
                DialogTitle = Color3.fromHex("#e0f2fe"),
                DialogContent = Color3.fromHex("#e0f2fe"),
                DialogIcon = Color3.fromHex("#38bdf8"),
                WindowTopbarButtonIcon = Color3.fromHex("#38bdf8"),
                WindowTopbarTitle = Color3.fromHex("#e0f2fe"),
                WindowTopbarAuthor = Color3.fromHex("#e0f2fe"),
                WindowTopbarIcon = Color3.fromHex("#e0f2fe"),
                TabBackground = Color3.fromHex("#e0f2fe"),
                TabTitle = Color3.fromHex("#e0f2fe"),
                TabIcon = Color3.fromHex("#38bdf8"),
                ElementBackground = Color3.fromHex("#e0f2fe"),
                ElementTitle = Color3.fromHex("#e0f2fe"),
                ElementDesc = Color3.fromHex("#e0f2fe"),
                ElementIcon = Color3.fromHex("#38bdf8"),
                PopupBackground = Color3.fromHex("#0c4a6e"),
                PopupBackgroundTransparency = 0,
                PopupTitle = Color3.fromHex("#e0f2fe"),
                PopupContent = Color3.fromHex("#e0f2fe"),
                PopupIcon = Color3.fromHex("#38bdf8")
            }
            ThemeEditor:ApplyTheme()
            ThemeEditor:UpdateColorpickerUI()
            libNoti("‚úÖ ƒê√£ √°p d·ª•ng Ocean!", 2)
        end
    })
    
    -- Load theme khi kh·ªüi ƒë·ªông tab
    task.spawn(function()
        task.wait(0.5)
        ThemeEditor:LoadTheme()
    end)
end

-- ==================== INIT MODULE ====================
function Module:Init()
    createThemeEditorTab()
    
    -- Load theme khi kh·ªüi ƒë·ªông
    ThemeEditor:LoadTheme()
end

return Module
